[{"content":"Introducing next-postgraphile Motivation TODO: Finish up\nNext.js Next.js is an elegant web app starter platform that combines an opinionated webpack configuration with React and more recently a lightweight API layer.\nUsing next.js with Typescript provides an elegant way to develop webapps applications quickly while utilizing the react ecosystem for prebuilt components. Due to how simple next.js makes development and deployment, it\u0026rsquo;s become my go to development platform for javascript webapps.\nGraphql Graphql was developed as a query language for large API surfaces as an alternative to REST. Graphql allows web and mobile developers to define what data they need from a backend declaratively with a single query while also providing valuable introspection capabilities during development.\nGraphql has allowed developers to rapidly update client frontends with new data as the API layer is updated. It has also enabled the recent rise of rapid application development platforms like Prisma, Apollo, and Postgraphile.\nRapid application development platforms Rapid development platforms are not new - infact, you could argue that they predate the Web entirely with Filemaker coming out in 1985 on the Macintosh.\nWhat RAD platforms do is allow developers to quickly iterate \u0026amp; release products to users while still finding product-market fit.\nTODO: Finish up\nGithub Checkout next-postgraphile on github here https://github.com/Flux159/next-postgraphile.\n","date":"2020-07-07T00:00:00Z","image":"https://suyogs.com/images/nextjs_postgraphile/postgraphile.png","permalink":"https://suyogs.com/p/experiments/next-js-with-postgraphile/","title":"Next.js with Postgraphile"},{"content":"Google Stadia recently came out and one of the interesting things about it is that it streams games from the cloud to your devices. I had previously built a gaming PC around 10 years ago with an Nvidia GTX 260 and an Intel Core i5-750 (eventually upgraded to Nvidia 750 Ti). I hadn’t used the PC in a while and my experiments with setting up VSCode on AWS got me thinking about setting up my own Gaming server on AWS too. Since this was an ideal use case for the cloud (an on demand machine that I use infrequently and will be consistently upgraded with the most recent GPUs), I wanted to see how I could setup a Windows PC on the AWS to play my Steam games.\nWhy would you want this? I don’t usually use a PC for work or personal use (have a MacBook Pro for both) and I didn’t want to deal with purchasing expensive new GPUs or building a brand new PC. One of my overall visions for the future of computing is using thin(er) clients to connect to personalized workspaces in the cloud for all kinds of computing needs (Development work, Gaming, a different operating system when you need it). Amazon came out with Amazon Workspaces for this reason (and for enterprise management of data and apps in those workspaces), but their pricing for individuals is insane (as of this writing $735 per month or $22 + $1.75/hr for their minimal 8 vCPU, 15GB memory, 4GB GPU Memory machines). I thought that I could do better by using AWS directly with VMs. With this setup, I can get continuous hardware updates as AWS upgrades their machines, and I can stream my already purchased Steam games to my Mac, iPad, or iPhone.\nWhat GPU machines are available on AWS and Pricing AWS is always upgrading their machines, so as of January 1st, 2020 - their cheapest current instance with a GPU is a g4dn.xlarge - a VM with 4 vCPUs, 16GB memory, and an hourly price of $0.526/hr on demand. Spot prices are currently only $0.19/hr (not including bandwidth or EBS Disk space).\nThese machines actually use Nvidia T4 GPUs, which are current generation GPUs built primarily for Cloud Providers. They’re about 1/2 as powerful as the current top of the line 2080 Ti in compute, but have more graphics memory since they’re mainly used for professional scientific computing (specifically Machine Learning use cases).\nOperating System and Specs For this guide, we’ll be setting up a g4dn.xlarge with Windows Server 2019. After using Remote Desktop to authenticate to the server, we’ll download Nvidia drivers, setup some common applications we need and get Steam Link working.\nGuide Get an AWS Windows VM  Login to your AWS Console and start a new Windows Instance (On Demand) with a g4dn.xlarge VM. Add a 128GB EBS Drive to the machine as well.   launchinstance \nChoose the Windows Server 2019 AMI with a g4dn vm.\n windowsserver2019ami \n g4dnvm \nAdd a 128GB volume (or more) as your root volume. Feel free to resize to whatever size you need for your games. Note that since the vm is on AWS, steam downloads will generally be extremely fast (50MB/s +), so you could even get a smaller drive and just delete items as needed.\n addvolume \nWhen adding a security group, make sure to make the following ports open along with TCP 22 for SSH:\n ports1   ports2   ports3 \nWhen you launch the instance, you want to click on it in the AWS UI and use the \u0026ldquo;Connect\u0026rdquo; button to get Remote Desktop connection and password information.\n connect \n downloadremotedesktop \nConnect using your remote desktop client and get the password from the AWS connect modal.\n remotedesktop \nNote that if you see this error message when retrieving your password, you usually just need to wait a few minutes while the VM is initializing.\n passwordnotavailable \nOnce you\u0026rsquo;ve connected via Remote desktop to your Windows Machine, you should see a virtual desktop\n ec2windowsdesktop \nDisable IE Restrictions and get Chrome IE on Windows Server has some insane restrictions on website content and downloads. Open IE the first time and make sure to disable \u0026ldquo;Internet Explorer Enhanced Security Configuration\u0026rdquo; in Server Manager settings in order to download Chrome and set it up as your default browser.\n ieawful \n servermanageriesettings0 \n servermanageriesettings \n makechromedefault \nInstall Nvidia Graphics Drivers, GRID drivers Following the AWS Guide, download the Nvidia graphics drivers and GRID drivers for your G4 machine. (The Nvidia Drivers are for T4 GPUs).\n nvidiadriverst4 \n nvidiadriversinstalled \nMake sure to also configure the GRID drivers appropriately according the the AWS Guide\n extractgrid \n gridinstalled \n awsguidegridcomplete \n registryeditor \n nvidianewdword \n nvidiaeditdword \n gridswcertpublic \nDisable Windows Basic Display Driver and install Windows Features Before restarting the VM, configure and install some windows settings and features. First, disable the windows basic display driver via device manager.\n controlpanel \n devicemanager \n disablebasicdisplay \nThen install some required Windows Features from Server Manager. Specifically after opening Server Manager, you want to use \u0026ldquo;Local Server\u0026rdquo;, and scroll all the way to the bottom to get to the \u0026ldquo;Roles and Features\u0026rdquo; section. In \u0026ldquo;Tasks\u0026rdquo;, you\u0026rsquo;ll get a button to \u0026ldquo;Add Roles and Features\u0026rdquo;.\nYou want to add at least Media Foundation, QWAVE (Quality Windows Audio Video Experience), and .NET 3.5.\n servermanager \n localserveraddfeature \n mediafoundationqwave \nWhile you\u0026rsquo;re installing these features, make sure to also disable Windows Firewall so that you can accept incoming connections on the ports we\u0026rsquo;ve opened for Steam.\nOnce you\u0026rsquo;ve installed all the required drivers and Windows Features, restart the VM before proceeding to the next section.\nDownload Steam, Hamachi, Blender, Razer Sound 7.1 Download and Install Steam, Hamachi, Blender, and Razer Sound 7.1. Note that you only need to install Razer Sound, you don\u0026rsquo;t need to log in (this is to provide audio drivers).\nLogin to the same Steam account on your VM and on your client. Also for Hamachi, make sure that your VM and Client are connected to the same VPN group.\n steam \n hamachi \n blender \nSteam settings for Remote play on host When logged into Steam on the remote VM, go to Steam Settings -\u0026gt; Remote Play -\u0026gt; Advanced Host Options.\nDisable \u0026ldquo;Dynamically adjust screen capture\u0026rdquo; and \u0026ldquo;Use NVFBC capture on NVIDIA GPU\u0026rdquo; if you have issues with games crashing on startup.\n steamoptions \nInstall Steam Games you want to play Install the steam games you want to play on the Remote VM. Once they\u0026rsquo;re installed and you have Hamachi setup, you should be able to see on your client(s) the Steam \u0026ldquo;Play\u0026rdquo;/\u0026ldquo;Install\u0026rdquo; button become a \u0026ldquo;Stream\u0026rdquo; button. Before clicking \u0026ldquo;Stream\u0026rdquo;, you\u0026rsquo;ll need to create a logout.bat file below and disconnect from Remote Desktop (RDP).\nCreate logout.bat Create logout.bat that will log out of remote desktop, but keep Hamachi running (needed since Steam Link crashes while still connected to RDP).\nThe logout.bat batch script should have the following code:\n# This script locks the server, disconnects you from the servers RDP session # sending the session back to console so hamachi does not get disconnected tscon 0 /dest:console tscon 1 /dest:console tscon 2 /dest:console Rundll32.exe User32.dll,LockWorkStation Then connect via Steam Streaming when RDP isn\u0026rsquo;t connected. Apparently Steam uses the same connection or something and errors out. Note that you need to ensure that you have a good connection to the server.\nNow you can stream games with steam and profit!\nRemote Workspace Optional:\n Since this is a full fledged remote workspace, you can download and use other GPU based tools (Blender, Maya, Photoshop) via RDP - although lag may be more noticeable through RDP and it might be better to do local development and use the remote server for rendering or when you need more compute. This is also a fully useable Windows Environment if you need to test windows specific features or use Windows only tools.  References  https://lg.io/2015/07/05/revised-and-much-faster-run-your-own-highend-cloud-gaming-service-on-ec2.html - Primarily used this and adapted for Windows Server 2019 and newer Nvidia drivers https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/install-nvidia-driver-windows.html#nvidia-grid-g4 - Main AWS Documentation Page for installing windows drivers https://steamcommunity.com/groups/homestream/discussions/0/1318835718943402340/ - Fixing some steam link settings Apparently Parsec was following a similar guide (just automated): https://github.com/jamesstringerparsec/Parsec-Cloud-Preparation-Tool/blob/master/PostInstall/PostInstall.ps1  ","date":"2019-12-30T00:00:00Z","image":"https://suyogs.com/images/windows_gaming_aws/steam.png","permalink":"https://suyogs.com/p/experiments/windows-gaming-pc-on-aws/","title":"Create your own Windows Gaming PC on AWS"},{"content":"NOTE: This post is deprecated as VSCode Online added the ability to start a vscode server without a UI after rebranding to Visual Studio Codespaces. Github Codespaces would probably use something similar and would be a better overall experience than manually setting up an instance on AWS.\nI\u0026rsquo;m writing this blog post using VSCode Online using a hosted environment on AWS.\nThis is pretty awesome as it lets me use VSCode from a webbrowser to connect to a VM running on my AWS account.\nThis post goes over how I set it up, what works, and how I believe that remote development like this is not just the future, but also a critial part of what Github (now owned by Microsoft) will offer in the future.\nWhy Remote Development  Can access from anywhere A single browser for all your apps (VSCode, Terminal, Google, etc.) Save on costs \u0026amp; pay for what you use - if you need a larger machine, just shutdown the instance, get a bigger one for a few hours. Works extremely well with the On Demand / Spot instance model of pricing (if backups \u0026amp; temporary non-committed state handled seamlessly) Should definitely be automated so that a disconnect from the environment can run a command to shutdown the instance. Should also be able to run a lambda or Azure function in order to \u0026ldquo;boot up\u0026rdquo; a self-hosted instance too (saves on costs significantly) Can be automated so that load from a setup image, does a git pull (if necessary), has environment already configured Not local \u0026amp; on a virtual machine, so any issues with client computer (hard drive breaks, etc.) won\u0026rsquo;t happen. Also if VM gets corrupted / in a bad state, just make a new VM from a backed up image Potentially Access from phone in the near future. Potentially Github \u0026ldquo;edit in vscode\u0026rdquo; that will spawn an environment automatically and let me edit the repository with an IDE like experience.  Setup  Get an AWS account - this entire setup is much easier if you just use Azure, but this guide is specifically for people on a different cloud provider (using a VM in Google Cloud or Digital Ocean with VSCode Online will be very similar) Start a new instance - I used a T2.Medium since it has 4GB RAM and 2 Virtual Cores Start with a terminal based Ubuntu 18.04 instance Follow instructions to setup machine with a GUI, Setup VNC server properly In VNC server, get vscode (there was an error here around X11, fix that) - Mac can use Finder as client. Note that GUI is pretty barebones, you want to get Firefox to just download VSCode quickly. Once VSCode is installed (via .deb), download the VSCode Online extension Use the command palette and follow the instructions to setup a local environment Note that you need to have a vscode online account AND an Azure account here The azure account also needs to have a subscription \u0026ldquo;plan\u0026rdquo; for VSCode online even though you won\u0026rsquo;t be using their environments Once environment is setup, you want to connect to the environment from https://online.visualstudio.com In the environment, you\u0026rsquo;ll automatically connect to the folder you specified as the workspace Change the max file watchers so that VSCode doesn\u0026rsquo;t complain (and node/yarn don\u0026rsquo;t complain) I wanted to work with a Nodejs app and also do Jupyter development, so I also set those up.  Step by Step Systematic way of setting up an Ubuntu Environment with xfce4, Chrome, VSCode, Nodejs, and Jupyter for web based remote development from any device.\nGetting an AWS Instance and setting up the right security group Get an instance - I got a t3.medium with 2 VCPUs and 4GB RAM. I also attached a 32GB SSD Disk to the VM.\nMake sure the Security Group is setup properly (inbound connections from these ports should be allowed):\nPorts 8000-8001, 9000 for web development purposes Port 8888 for Jupyter Port 22 for SSH Port 5901 for VNC Note that I usually limit the security group to only my IP since this is intended to be a development machine.\nGetting gnome-desktop and VNC setup on Ubuntu 18.04 Server TODO: Update to use gnome-desktop rather than xfce4 which has odd bugs that cause it to crash frequently \u0026amp; the VNC connection needs to be re-established / VSCode environment needs to be refreshed.\nNote: Replace USER=suyogs with the username you want to setup. When you add your user, it will ask for a password that will be used for authentication.\nUSER=suyogs sudo apt update \u0026amp;\u0026amp; sudo apt install -y ubuntu-desktop tightvncserver gnome-panel gnome-settings-daemon metacity nautilus gnome-terminal build-essential sudo adduser $USER sudo usermod -aG sudo $USER su - $USER As your $USER:\nvncserver vncserver -kill :1 mv ~/.vnc/xstartup ~/.vnc/xstartup.bak vim ~/.vnc/xstartup Make some common directories for your user:\nmkdir -p ~/Documents ~/Desktop ~/Downloads ~/Music ~/Pictures ~/Movies ~/Projects In the ~/.vnc/xstartup file, add the following:\n#!/bin/bash  export XKL_XMODMAP_DISABLE=1 unset SESSION_MANAGER unset DBUS_SESSION_BUS_ADDRESS [ -x /etc/vnc/xstartup ] \u0026amp;\u0026amp; exec /etc/vnc/xstartup [ -r $HOME/.Xresources ] \u0026amp;\u0026amp; xrdb $HOME/.Xresources xsetroot -solid grey vncconfig -iconic \u0026amp; gnome-session \u0026amp; gnome-panel \u0026amp; gnome-settings-daemon \u0026amp; metacity \u0026amp; nautilus \u0026amp; # gnome-terminal \u0026amp; Then run this in your $USER\u0026rsquo;s shell:\nsudo chmod +x ~/.vnc/xstartup vncserver At this point, you should be able to connect to VNC on your Ubuntu machine by using a VNC Client (see below for clients on Mac and iPhone) and connecting to vnc://YOUR_PUBLIC_IP:5901. The next step will setup VNC to be a systemctl service that will spawn on boot.\nTo figure out your public ip from the terminal, you can just use the following command:\ncurl ifconfig.co sudo vim /etc/systemd/system/vncserver@.service In the /etc/systemd/system/vncserver@.service file, add the following (NOTE: Be sure to replace YOUR_USER with the username from above manually):\n[Unit] Description=Start TightVNC server at startup After=syslog.target network.target [Service] Type=forking User=YOUR_USER Group=YOUR_USER WorkingDirectory=/home/YOUR_USER PIDFile=/home/YOUR_USER/.vnc/%H:%i.pid ExecStartPre=-/usr/bin/vncserver -kill :%i \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 ExecStart=/usr/bin/vncserver -depth 24 -geometry 1280x800 :%i ExecStop=/usr/bin/vncserver -kill :%i [Install] WantedBy=multi-user.target Run the following to restart vnc:\nvncserver -kill :1 sudo systemctl daemon-reload sudo systemctl enable vncserver@1.service sudo systemctl start vncserver@1 sudo systemctl status vncserver@1 You should now be able to reboot your machine and VNC will be setup on boot.\nGetting Chrome and VSCode Installed wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb sudo dpkg -i google-chrome-stable_current_amd64.deb rm google-chrome-stable_current_amd64.deb wget -O code.deb https://go.microsoft.com/fwlink/?LinkID=760868 sudo dpkg -i code.deb rm code.deb Fix an issue around Code not booting in remote VNC/X sessions and install the VSOnline extension:\ncd /usr/lib/x86_64-linux-gnu/ cp libxcb.so.1 libxcb.so.1.bak sudo cp libxcb.so.1 libxcb.so.1.bak sudo sed -i 's/BIG-REQUESTS/_IG-REQUESTS/' libxcb.so.1 cd ~ code --install-extension ms-vsonline.vsonline At this point, you should be able to open up VNC, open VSCode and connect to your Azure account and VSOnline account. In addition, you want to Register your local environment so that it shows up at https://online.visualstudio.com\nGetting NodeJS and Yarn This will get NodeJS and Yarn and update /etc/sysctl.conf so you don\u0026rsquo;t run into file watcher errors from yarn or VSCode.\ncurl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash - sudo apt-get install -y nodejs curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add - echo \u0026#34;deb https://dl.yarnpkg.com/debian/ stable main\u0026#34; | sudo tee /etc/apt/sources.list.d/yarn.list sudo apt update \u0026amp;\u0026amp; sudo apt install yarn npm config set python python2.7 sudo vim /etc/sysctl.conf Do the following change to sysctl to fix a common file watcher issue in yarn / vscode:\nIn the /etc/sysctl.conf File, add the following to the end of the file:\nfs.inotify.max_user_watches=524288 Finally, run the following command:\nsudo sysctl -p Getting Jupyter As your $USER, do the following:\ncd Downloads/ wget https://repo.anaconda.com/archive/Anaconda3-2019.07-Linux-x86_64.sh bash ./Anaconda3-2019.07-Linux-x86_64.sh You\u0026rsquo;ll have to hit [Enter][Space], type yes to accept Anacondas license terms, [Enter] to confirm /home/$USER/anaconda3 is the right location to install to, yes again to run conda init \u0026amp; update your PATH, then relogin to your user\u0026rsquo;s shell session. If you run python --version, you should see Python 3.7+ now.\nNow just run the following:\nconda update --all --yes jupyter notebook --ip=0.0.0.0 Jupyter will give a ?token=TOKEN url in the logs, you should be able to access your Jupyter instance at http://YOUR_PUBLIC_IP:8888?token=TOKEN and work with notebooks there.\nGetting Postgres Getting postgres setup for local database connections\nsudo apt-get install -y postgresql You should then be able to access a database locally using:\nsudo -u postgres psql VNC On a Mac, you can use Screen Sharing which is built into Finder (Command+K in Finder) and connect with a vnc://YOUR_IP:5901 url.\nOn iPhone, use VNC Viewer, just remove the \u0026ldquo;vnc://\u0026rdquo; from the connection, so YOUR_IP:5901 should work.\nTroubleshooting  Fallback to SSH via a terminal. Make sure to keep your AWS ssh key. Note that if you set sshd config to allow password auth, that might not work and you will need to login as your created user. Use VNC / Check if GUI is working properly via VNC. A follow up here is to setup vncserver to start on starup for the user you created. VNC will need to have VSCode running on the environment (unfortunately this looks like a limitation of the public beta right now)  Debugging / Troubleshooting VNC I had the VNC server crash sometimes - to debug, I first checked if SSH was still working - it might be that the VNC server crashed (which is necessary for VSCode to connect to the remote environment). If SSH isn\u0026rsquo;t working, it might be that your VM crashed, check AWS\u0026rsquo;s console to see if there\u0026rsquo;s an issue / maybe reboot.\nFrom an ssh session as your $USER, try the following:\nsudo systemctl status vncserver@1.service sudo systemctl restart vncserver@1.service If there’s an error, try these to debug / figure out what the issue is:\nvncserver -kill :1 sudo journalctl -xe What needs a bit more work The VSCode online client seems to get stuck in a \u0026ldquo;Reconnecting\u0026rdquo; state, where its easier to just refresh the page / go back to the environments page and click on your environment again.\nRight now there\u0026rsquo;s some usability issues that could be resolved:\n I (manually) shutdown the instance to save on costs when I\u0026rsquo;m not using it. As soon as connection is lost, the instance should shutdown after 2 hours. I would love if I didn\u0026rsquo;t have to use VNC at all (might be difficult since VSCode needs Electron which is based on Chrome, which needs a GUI environment to run). AWS instances and Public IPs: The public IP of the instance changed, so I needed to ssh/vnc to a different host - need a script to automatically find the public ip based on the instance id (aws ec2 cli can give this, but it would be nicer to have a dynamic dns name that I could just hit from AWS). AWS has tutorials on how to do this w/ other services, but honestly Route 53 should just allow me to use an instance-id as an A Alias rather than a public IP (or have to go through some configuration setup on boot). After booting, I still need to manually VNC into the machine, open up VSCode, login TWICE using the same Microsoft credentials (login to Azure, then login to VSOnline\u0026rsquo;s environments), then \u0026ldquo;Restore\u0026rdquo; the environment before I can access via webbrowser. All of this should be possible automatically - first, why isn\u0026rsquo;t VSCode storing/caching my credentials so that I\u0026rsquo;m automatically re-authenticated to Azure and VSOnline? Second, there should be some configuration where \u0026ldquo;Restoring\u0026rdquo; an environment can be automated/done via command-line and I should be able to start vscode via command line too (ie on boot). This manual process takes around 5 minutes, but its no where near as simple as \u0026ldquo;go to this webpage, you\u0026rsquo;re already authenticated because its storing your auth in a cookie, here\u0026rsquo;s your environment, get started immediately\u0026rdquo;.  The future  Instant Github integration like Github Actions - \u0026ldquo;edit this repo\u0026rdquo; button built into Github that will automatically provision an environment, clone the repo, and start a build/prebuild command based on a repo\u0026rsquo;s .workspace or .vsonline directory (similar to .github right now) Future: Coding from my phone (iPhone) - not necesarily on my phone\u0026rsquo;s touchscreen, but with my phone connected via USB-C to a 4k monitor, bluetooth connection to keyboard \u0026amp; trackpad. Samsung already kinda has something like this with DeX, but this isn\u0026rsquo;t trying to shoehorn another OS onto your phone - this should just be iOS (or Android), I should be able to go to https://online.visualstudio.com and connect to my devserver. Essentially I wouldn\u0026rsquo;t need a laptop because I could carry my computing device in my pocket and connect to a higher resolution, larger screen whenever/where-ever I need to. Visual Studio online doesnt officially support Safari mobile yet  References   https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/ - Sign up for AWS\n  https://aws.amazon.com/ec2/getting-started/ - Connecting to an instance (note that AWS has an online console now too, but I generally just use ssh with the downloaded keypair example: ssh -i ~/.ssh/MY_KEYPAIR.pem ubuntu@MY_IP).\n  https://www.digitalocean.com/community/questions/ubuntu-16-04-creating-new-user-and-adding-ssh-keys - adding a new user in Ubuntu 18.04\n  https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04 - getting xfce4 and vnc installed on ubuntu server. Also setting it up to start on reboot.\n  https://visualstudio.microsoft.com/services/visual-studio-online/#signup - Sign up for VSCode Online\n  https://code.visualstudio.com/docs/remote/vsonline#_selfhosted-environments - Self hosted environments with VSCode Online\n  https://docs.microsoft.com/en-us/visualstudio/online/how-to/vscode#self-hosted\n  https://code.visualstudio.com/docs/setup/linux#_visual-studio-code-is-unable-to-watch-for-file-changes-in-this-large-workspace-error-enospc - Fixing file watchers issues\n  https://github.com/nodesource/distributions/blob/master/README.md - installing Nodejs on Ubuntu\n  https://yarnpkg.com/lang/en/docs/install/#debian-stable - installing Yarn on Ubuntu\n  https://mas-dse.github.io/startup/anaconda-ubuntu-install/ - Getting Jupyter\n  https://jupyter-notebook.readthedocs.io/en/stable/public_server.html - Starting Jupyter notebook on ip=0.0.0.0\n  https://stackoverflow.com/questions/48210972/xlib-extension-xinputextension-missing-on-display-1-atom-ubuntu - Fixing Xlib issue over VNC\n  ","date":"2019-11-29T00:00:00Z","image":"https://suyogs.com/images/vscode_online/vscode.png","permalink":"https://suyogs.com/p/experiments/vscode-online-with-aws/","title":"VSCode Online with AWS"},{"content":"Central Park  Central Park \n","date":"2019-11-28T00:00:00Z","image":"https://suyogs.com/p/central-park/centralpark_hu7fba9da1679ce4a56c592454604cb9c1_289485_120x120_fill_q75_box_smart1.jpg","permalink":"https://suyogs.com/p/central-park/","title":"Central Park"},{"content":"Intro Writing a static site has gotten significantly more difficult than \u0026ldquo;upload a .html file to a shared host\u0026rdquo; in the 90s.\nThis post is talking about how I setup this blog to be hosted on Github Pages and used a Github Action to update on every push to master. It uses Gatsby as the static site generator and I started with a template that lets me use mdx in my posts for interactive React content.\nSome of the nice parts of this setup is that I can update the markdown content via the Github online editor (works on mobile and in any browser). Since the Github Action is setup to continuously deploy a new build on every commit to master, I don\u0026rsquo;t need to clone, build, and redeploy on a local machine.\nSetup On a Mac, get Node.js and Yarn installed. You probably need Xcode tools for git and other tools as well.\nSetup global modules for node.js by creating a .npm-global directory as described here.\nnpm i -g gatsby-cli mkdir -p ~/Projects/gatsbysites gatsby new gatsby-gitbook-starter https://github.com/hasura/gatsby-gitbook-starter cd ./gatsby-gitbook-starter gatsby develop I made a bunch of changes to the config.js file and did some work to change the theme of the site from a purple hue to a blue hue.\nThen I tested out a static build by doing the following:\nyarn build cd ./public \u0026amp;\u0026amp; python -m http.server Github Pages and Github Actions Once I knew that a static build would work, I wanted to setup the site so that it could be published to Github Pages.\nI created a new public repo on Github, and added my changes:\ngit remote add origin \u0026lt;remote repo URL\u0026gt; git push -u origin master Then I wanted to setup Github Pages to automatically publish to the gh-pages branch. I saw that there already existed an action to do that, so I added it to a workflow .yml file in my repo:\n\u0026lt;repo\u0026gt;/.github/workflows/main.yml\nname:Gatsby Publishon:push:branches:- masterjobs:build:runs-on:ubuntu-lateststeps:- uses:actions/checkout@v1- uses:enriikke/gatsby-gh-pages-action@2.1.1with:access-token:${{ secrets.ACCESS_TOKEN }}deploy-branch:gh-pagesgatsby-args:--prefix-pathsThe only thing to note here is that there\u0026rsquo;s a secrets.ACCESS_TOKEN that is specified in the file.\nTo create this token, you want to create a personal access token with the repo permissions.\nThen in your Repo\u0026rsquo;s Settings, go to Secrets and create a secret named \u0026ldquo;ACCESS_TOKEN\u0026rdquo; with the personal access token you just created.\nNow if you make a new change on master and push to the repo, it should automatically publish to the gh-pages branch.\nNOTE: Make sure that your Github repository settings have gh-pages as the branch you want to host pages from.\nSetting up DNS Once I had the gh-pages branch setup and autodeploying my changes on commit, I wanted to do one last thing to setup my personal blog - configure my DNS Nameservers to point to Github.\nI use Namecheap as my Domain Name Provider, so I followed Github\u0026rsquo;s instructions on how to properly setup my A records.\nI also needed to add a CNAME file in my master branch with the name of my site suyogs.com.\nAfter the DNS changes propagated, I was able to go to https://suyogs.com and it showed my Github Pages site!\nAdditions I cleaned up some of the CSS and headers that I didn\u0026rsquo;t need from the starter template (and changed the color scheme to use a blue hue).\nI also removed the need for Jquery and Bootstrap js by making the mobile navigation use React instead. Also made sure that the site mostly worked without Javascript (obvious things like mobile dropdown and live mode JS code don\u0026rsquo;t work).\nTodos  I still need to add commenting and social sharing to the site to allow it to be more interactive and easily shareable. Gatsby has a number of solutions for adding commenting to the site. React Share is an option for adding social sharing. Adding an index page with pagination along with an RSS feed would make the site more accessible to read from other sources.  References  https://www.gatsbyjs.org/ https://pages.github.com/ https://github.com/features/actions https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-and-using-encrypted-secrets https://medium.com/@hossainkhan/using-custom-domain-for-github-pages-86b303d3918a https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site  ","date":"2019-11-28T00:00:00Z","image":"https://suyogs.com/images/github_pages/github_pages_cropped.png","permalink":"https://suyogs.com/p/experiments/github-pages-for-static-sites/","title":"Github Pages for Static Sites"},{"content":"Experiment working with QEMU and Tinycore linux on a Mac.\nSetup On a Mac, get QEMU by using Homebrew\nbrew install qemu Download Core-current.iso and TinyCore-current.iso from Tinycore\u0026rsquo;s website. For the experiment below, they are located in my Downloads folder ~/Downloads/.\nExperiment mkdir qemutests cd qemutests qemu-img create tinycore.img 512M qemu-system-x86_64 -hda tinycore.img -m 512 -cdrom ~/Downloads/Core-current.iso -boot d -net nic -net user,hostfwd=tcp:127.0.0.1:8008-:80 Note that you must have that second -net command to download things properly.\nQemu will open up a window and booting from the iso should only take 10 seconds.\nIf you logout, there’s a user with the name “tc” that you can login as again.\nIf you sudo reboot right now before following the \u0026ldquo;install\u0026rdquo; instructions below, you will lose all data in the VM since the entire OS is running in memory and is not persisted to the qemu-img disk you created earlier.\nExtensions To download extensions (like packages in Ubuntu or CentOS), you can use tce-load.\ntce-load -iw vim tce-load -iw python3.6-dev Note that I was having multiple issues around md5sum mismatches when installing extensions using tce-load. This happened for both the shell based Core and GUI based TinyCore.\nYou can partially get around the md5 check by using tce-fetch, but this is not recommended for most non-experimental purposes.\ntce-fetch.sh gvim.gcz tce-load -i gvim.gcz In my few hours of experimenting, I wasn\u0026rsquo;t able to find out a good fix for the md5sum issues. Feel free to leave an issue on my blog\u0026rsquo;s github if you\u0026rsquo;re able to find a fix.\nInstalling to Disk This is mainly following TinyCore\u0026rsquo;s install manual for making a bootable hard drive w/ tiny core rather than just the iso booting in QEMU.\ntce-load -wi cfdisk tce-load -wi grub-0.97-splash sudo su fdisk -l (should show /dev/sda - which will be used for following commands) cfdisk /dev/sda # The following is in the cfdisk terminal interface [New] [Primary] [Enter for default] [Beginning] [Bootable - select this] [Write] yes [Quit] mkfs.ext3 /dev/sda1 rebuildfstab mount /mnt/sda1 mkdir -p /mnt/sda1/boot/grub # Mount the original boot media (the disk) - it was at /dev/sr0 (just did cat /etc/fstab to check): mount /mnt/sr0 cp -p /mnt/sr0/boot/* /mnt/sda1/boot/ mkdir -p /mnt/sda1/tce touch /mnt/sda1/tce/mydata.tgz cp -p /usr/lib/grub/i386-pc/* /mnt/hda1/boot/grub/ vi /mnt/hda1/boot/grub/menu.lst # Type “i”, insert the following (note that the install_manual is out of date - follow this: http://forum.tinycorelinux.net/index.php?topic=15713.0): default 0 timeout 10 title tinycore kernel /boot/vmlinuz quiet initrd /boot/core.gz # Use Esc + :wq to save the file and quit grub root (hd0,0) setup (hd0) quit umount /mnt/hdc eject /dev/hdc reboot Note that cfdisk, etc. have been deleted because they were installed on the temporary iso, but now that you’ve installed to disk, the next time you run qemu, you can just boot from disk:\nqemu-system-x86_64 -hda tinycore.img -m 512 -boot d -net nic -net user,hostfwd=tcp:127.0.0.1:8009-:80 References  http://tinycorelinux.net/faq.html - Tinycore\u0026rsquo;s FAQ http://tinycorelinux.net/install_manual.html - Tinycore\u0026rsquo;s Install Manual http://forum.tinycorelinux.net/index.php?topic=15713.0 - Forum post about changes to grub configuration https://jon.sprig.gs/blog/post/53 - useful to start experimenting with Qemu arguments  ","date":"2019-11-28T00:00:00Z","image":"https://suyogs.com/images/qemu_and_tinycore_linux/qemu.png","permalink":"https://suyogs.com/p/experiments/qemu-and-tinycore/","title":"QEMU and Tinycore Linux"},{"content":"Working with the Titanic Dataset in Jupyter.\n ","date":"2019-11-28T00:00:00Z","image":"https://suyogs.com/images/titanic_dataset/titanic.jpeg","permalink":"https://suyogs.com/p/experiments/titanic-dataset/","title":"Titanic Dataset"},{"content":"Intro This is mainly a thought project I\u0026rsquo;ve had for a while now taking inspiration from Nand2Tetris, OS Development, Build your own react and various projects working on making an Operating Sytem from scratch.\nI want to take the next step from writing an OS (bootloader, kernel, processes \u0026amp; memory management, drivers) to writing a full fledged Web Browser. This would involve a lot of additional work (including writing a windowing engine, html/css parser, JS engine), but it should be feasible to have a working system that can connect to the Web. Ideally this would be taught as a course in college to inform students of the wide variety of different topics in Computer Science and Computer Engineering.\nSteps (Modern) Computers from the ground up to a Web Browser to Machine Learning (along the way need to mention Math, Physics/Mechanics/Chemistry, optimization / businesses that allow people in the next layer to focus on making that better):\n Physics + Electrical circuits (voltage, amps, op amps / transistor circuits, nand gates / boolean logic) Hardware circuits - ALU, memory, CPU, assembly instructions for arbitrary computation Operating system / Kernel \u0026amp; User space / Process \u0026amp; memory management / Drivers / (Persistent Disk) / Networking (possibly w/ Telephony/Wireless) - C Terminal / Shell, font rendering, windowing system, shell utilities built in Operating System(s) revisited (apps / spreadsheets (data flow) / docs / presentations - “Office”), Photoshop, Aside: Intro to databases (Filemaker, Access, SQLite, MySQL, Postgres, etc.) Windowing system + HTTP / HTML / CSS + Javascript, Images / image utilities, videos \u0026amp; video compression Games and Graphics - v1 (could have been before windowing system, but more relevant here - still talk about nethack, ascii games, etc.) - for terminal a “large” project could be getting Tetris (custom code) / Nethack (compile existing code) working in environment Search google, view images on FB, browse the web, post data into forms, etc. (communicate) “Create” on the web - google docs, web based editors, etc. Create a search engine using the networking tools, parse data into structured formats, use databases, indices (writing a search engine) - beginning of “data science” Modern apps (desktop, mobile, web); services (Netflix, Youtube, Facebook); ad based revenue models, privacy Machine learning - the tools \u0026amp; how to think about it from a high level perspective - simple algorithms to neural networks and systematization of data science tools to support ML Optimizations in specific fields helping in other fields iOS, Android, KaiOS, mobile computing and the future of computation (trucks vs cars analogy kinda works but only goes so far)  Aside This is mainly just a thought experiment at the moment, but if I have sufficient time, I\u0026rsquo;d want to work/collaborate on a project like this.\n","date":"2019-11-28T00:00:00Z","image":"https://suyogs.com/images/zero_to_web_browser/chrome.png","permalink":"https://suyogs.com/p/experiments/zero-to-web-browser/","title":"Zero to Web Browser"}]