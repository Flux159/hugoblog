<!doctype html><html lang=en-us>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Google Stadia recently came out and one of the interesting things about it is that it streams games from the cloud to your devices. I had previously built a gaming PC around 10 years ago with an Nvidia GTX 260 and an Intel Core i5-750 (eventually upgraded to Nvidia 750 Ti). I hadn’t used the PC in a while and my experiments with setting up VSCode on AWS got me thinking about setting up my own Gaming server on AWS too."><title>Create your own Windows Gaming PC on AWS</title>
<link rel=canonical href=https://suyogs.com/p/experiments/windows-gaming-pc-on-aws/>
<link rel=stylesheet href=/scss/style.min.775dbd4fd34fda61c5273b4bc3415f7c9666414fb6c40aab164a7ded4397da98.css><meta property="og:title" content="Create your own Windows Gaming PC on AWS">
<meta property="og:description" content="Google Stadia recently came out and one of the interesting things about it is that it streams games from the cloud to your devices. I had previously built a gaming PC around 10 years ago with an Nvidia GTX 260 and an Intel Core i5-750 (eventually upgraded to Nvidia 750 Ti). I hadn’t used the PC in a while and my experiments with setting up VSCode on AWS got me thinking about setting up my own Gaming server on AWS too.">
<meta property="og:url" content="https://suyogs.com/p/experiments/windows-gaming-pc-on-aws/">
<meta property="og:site_name" content="Suyog's Blog">
<meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="experiments"><meta property="article:published_time" content="2019-12-30T00:00:00+00:00"><meta property="article:modified_time" content="2019-12-30T00:00:00+00:00"><meta property="og:image" content="https://suyogs.com/images/windows_gaming_aws/steam.png">
<meta name=twitter:title content="Create your own Windows Gaming PC on AWS">
<meta name=twitter:description content="Google Stadia recently came out and one of the interesting things about it is that it streams games from the cloud to your devices. I had previously built a gaming PC around 10 years ago with an Nvidia GTX 260 and an Intel Core i5-750 (eventually upgraded to Nvidia 750 Ti). I hadn’t used the PC in a while and my experiments with setting up VSCode on AWS got me thinking about setting up my own Gaming server on AWS too."><meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://suyogs.com/images/windows_gaming_aws/steam.png">
</head>
<body class="article-page has-toc">
<script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.scheme='dark':document.documentElement.dataset.scheme='light'})()</script>
<div class="container main-container flex
extended">
<div id=article-toolbar>
<a href=/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg>
<span>Back</span>
</a>
</div>
<main class="main full-width">
<article class="has-image main-article">
<header class=article-header>
<div class=article-image>
<a href=/p/experiments/windows-gaming-pc-on-aws/>
<img src=/images/windows_gaming_aws/steam.png loading=lazy alt="Featured image of post Create your own Windows Gaming PC on AWS">
</a>
</div>
<div class=article-details>
<header class=article-category>
<a href=/categories/experiments/ style=background-color:#2a9d8f;color:#fff>
Experiments
</a>
</header>
<h2 class=article-title>
<a href=/p/experiments/windows-gaming-pc-on-aws/>Create your own Windows Gaming PC on AWS</a>
</h2>
<footer class=article-time>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Dec 30, 2019</time>
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>
7 minute read
</time>
</div>
</footer>
</div>
</header>
<section class=article-content>
<p><a class=link href=https://en.wikipedia.org/wiki/Google_Stadia target=_blank rel=noopener>Google Stadia</a> recently came out and one of the interesting things about it is that it streams games from the cloud to your devices. I had previously built a gaming PC around 10 years ago with an Nvidia GTX 260 and an Intel Core i5-750 (eventually upgraded to Nvidia 750 Ti). I hadn’t used the PC in a while and my <a class=link href=https://suyogs.com/experiments/000005-vscode-online target=_blank rel=noopener>experiments</a> with setting up VSCode on AWS got me thinking about setting up my own Gaming server on AWS too. Since this was an ideal use case for the cloud (an on demand machine that I use infrequently and will be consistently upgraded with the most recent GPUs), I wanted to see how I could setup a Windows PC on the AWS to play my Steam games.</p>
<h2 id=why-would-you-want-this>Why would you want this?</h2>
<p>I don’t usually use a PC for work or personal use (have a MacBook Pro for both) and I didn’t want to deal with purchasing expensive new GPUs or building a brand new PC. One of my overall visions for the future of computing is using thin(er) clients to connect to personalized workspaces in the cloud for all kinds of computing needs (Development work, Gaming, a different operating system when you need it). Amazon came out with <a class=link href=https://aws.amazon.com/workspaces/ target=_blank rel=noopener>Amazon Workspaces</a> for this reason (and for enterprise management of data and apps in those workspaces), but their pricing for individuals is <a class=link href=https://aws.amazon.com/workspaces/pricing/ target=_blank rel=noopener>insane</a> (as of this writing $735 per month or $22 + $1.75/hr for their minimal 8 vCPU, 15GB memory, 4GB GPU Memory machines). I thought that I could do better by using AWS directly with VMs. With this setup, I can get continuous hardware updates as AWS upgrades their machines, and I can stream my already purchased Steam games to my Mac, iPad, or iPhone.</p>
<h2 id=what-gpu-machines-are-available-on-aws-and-pricing>What GPU machines are available on AWS and Pricing</h2>
<p>AWS is always upgrading their machines, so as of January 1st, 2020 - their cheapest <strong>current</strong> instance with a GPU is a <a class=link href=https://aws.amazon.com/ec2/instance-types/g4/ target=_blank rel=noopener>g4dn.xlarge</a> - a VM with 4 vCPUs, 16GB memory, and an hourly price of $0.526/hr on demand. Spot prices are currently only $0.19/hr (not including bandwidth or EBS Disk space).</p>
<p>These machines actually use <a class=link href=https://www.nvidia.com/en-us/data-center/tesla-t4/ target=_blank rel=noopener>Nvidia T4</a> GPUs, which are current generation GPUs built primarily for Cloud Providers. They’re about 1/2 as powerful as the current top of the line 2080 Ti in <a class=link href=https://www.anandtech.com/show/14663/the-nvidia-geforce-rtx-2080-super-review target=_blank rel=noopener>compute</a>, but have more graphics memory since they’re mainly used for professional scientific computing (specifically Machine Learning use cases).</p>
<h2 id=operating-system-and-specs>Operating System and Specs</h2>
<p>For this guide, we’ll be setting up a g4dn.xlarge with Windows Server 2019. After using Remote Desktop to authenticate to the server, we’ll download Nvidia drivers, setup some common applications we need and get Steam Link working.</p>
<h2 id=guide>Guide</h2>
<h2 id=get-an-aws-windows-vm>Get an AWS Windows VM</h2>
<ul>
<li>Login to your <a class=link href="https://console.aws.amazon.com/ec2/home?region=us-east-1#Instances:sort=instanceId" target=_blank rel=noopener>AWS Console</a> and start a new Windows Instance (On Demand) with a g4dn.xlarge VM. Add a 128GB EBS Drive to the machine as well.</li>
</ul>
<p><figure>
<a href=/images/windows_gaming_aws/launchinstance.png>
<img src=/images/windows_gaming_aws/launchinstance.png loading=lazy alt=launchinstance>
</a>
<figcaption>launchinstance</figcaption>
</figure></p>
<p>Choose the Windows Server 2019 AMI with a g4dn vm.</p>
<p><figure>
<a href=/images/windows_gaming_aws/windowsserver2019ami.png>
<img src=/images/windows_gaming_aws/windowsserver2019ami.png loading=lazy alt=windowsserver2019ami>
</a>
<figcaption>windowsserver2019ami</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/g4dnvm.png>
<img src=/images/windows_gaming_aws/g4dnvm.png loading=lazy alt=g4dnvm>
</a>
<figcaption>g4dnvm</figcaption>
</figure></p>
<p>Add a 128GB volume (or more) as your root volume. Feel free to resize to whatever size you need for your games. Note that since the vm is on AWS, steam downloads will generally be extremely fast (50MB/s +), so you could even get a smaller drive and just delete items as needed.</p>
<p><figure>
<a href=/images/windows_gaming_aws/addvolume.png>
<img src=/images/windows_gaming_aws/addvolume.png loading=lazy alt=addvolume>
</a>
<figcaption>addvolume</figcaption>
</figure></p>
<p>When adding a security group, make sure to make the following ports open along with TCP 22 for SSH:</p>
<p><figure>
<a href=/images/windows_gaming_aws/ports1.png>
<img src=/images/windows_gaming_aws/ports1.png loading=lazy alt=ports1>
</a>
<figcaption>ports1</figcaption>
</figure>
<figure>
<a href=/images/windows_gaming_aws/ports2.png>
<img src=/images/windows_gaming_aws/ports2.png loading=lazy alt=ports2>
</a>
<figcaption>ports2</figcaption>
</figure>
<figure>
<a href=/images/windows_gaming_aws/ports3.png>
<img src=/images/windows_gaming_aws/ports3.png loading=lazy alt=ports3>
</a>
<figcaption>ports3</figcaption>
</figure></p>
<p>When you launch the instance, you want to click on it in the AWS UI and use the &ldquo;Connect&rdquo; button to get Remote Desktop connection and password information.</p>
<p><figure>
<a href=/images/windows_gaming_aws/connectbuttonaws.png>
<img src=/images/windows_gaming_aws/connectbuttonaws.png loading=lazy alt=connect>
</a>
<figcaption>connect</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/downloadremotefile.png>
<img src=/images/windows_gaming_aws/downloadremotefile.png loading=lazy alt=downloadremotedesktop>
</a>
<figcaption>downloadremotedesktop</figcaption>
</figure></p>
<p>Connect using your remote desktop client and get the password from the AWS connect modal.</p>
<p><figure>
<a href=/images/windows_gaming_aws/remotedesktop.png>
<img src=/images/windows_gaming_aws/remotedesktop.png loading=lazy alt=remotedesktop>
</a>
<figcaption>remotedesktop</figcaption>
</figure></p>
<p>Note that if you see this error message when retrieving your password, you usually just need to wait a few minutes while the VM is initializing.</p>
<p><figure>
<a href=/images/windows_gaming_aws/windowspasswordnotavailableaws.png>
<img src=/images/windows_gaming_aws/windowspasswordnotavailableaws.png loading=lazy alt=passwordnotavailable>
</a>
<figcaption>passwordnotavailable</figcaption>
</figure></p>
<p>Once you&rsquo;ve connected via Remote desktop to your Windows Machine, you should see a virtual desktop</p>
<p><figure>
<a href=/images/windows_gaming_aws/ec2windowsdesktop.png>
<img src=/images/windows_gaming_aws/ec2windowsdesktop.png loading=lazy alt=ec2windowsdesktop>
</a>
<figcaption>ec2windowsdesktop</figcaption>
</figure></p>
<h2 id=disable-ie-restrictions-and-get-chrome>Disable IE Restrictions and get Chrome</h2>
<p>IE on Windows Server has some insane restrictions on website content and downloads. Open IE the first time and make sure to disable &ldquo;Internet Explorer Enhanced Security Configuration&rdquo; in Server Manager settings in order to download Chrome and set it up as your default browser.</p>
<p><figure>
<a href=/images/windows_gaming_aws/ieawful.png>
<img src=/images/windows_gaming_aws/ieawful.png loading=lazy alt=ieawful>
</a>
<figcaption>ieawful</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/servermanageriesettings0.png>
<img src=/images/windows_gaming_aws/servermanageriesettings0.png loading=lazy alt=servermanageriesettings0>
</a>
<figcaption>servermanageriesettings0</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/servermanageriesettings.png>
<img src=/images/windows_gaming_aws/servermanageriesettings.png loading=lazy alt=servermanageriesettings>
</a>
<figcaption>servermanageriesettings</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/makechromedefault.png>
<img src=/images/windows_gaming_aws/makechromedefault.png loading=lazy alt=makechromedefault>
</a>
<figcaption>makechromedefault</figcaption>
</figure></p>
<h2 id=install-nvidia-graphics-drivers-grid-drivers>Install Nvidia Graphics Drivers, GRID drivers</h2>
<p>Following the <a class=link href=https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/install-nvidia-driver-windows.html target=_blank rel=noopener>AWS Guide</a>, download the <a class=link href=https://www.nvidia.com/Download/Find.aspx target=_blank rel=noopener>Nvidia graphics drivers</a> and <a class=link href=https://s3.amazonaws.com/nvidia-gaming/GRID-436.30-vGaming-Windows-Guest-Drivers.zip target=_blank rel=noopener>GRID drivers</a> for your G4 machine. (The Nvidia Drivers are for T4 GPUs).</p>
<p><figure>
<a href=/images/windows_gaming_aws/nvidiadriverst4.png>
<img src=/images/windows_gaming_aws/nvidiadriverst4.png loading=lazy alt=nvidiadriverst4>
</a>
<figcaption>nvidiadriverst4</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/nvidiadriversinstalled.png>
<img src=/images/windows_gaming_aws/nvidiadriversinstalled.png loading=lazy alt=nvidiadriversinstalled>
</a>
<figcaption>nvidiadriversinstalled</figcaption>
</figure></p>
<p>Make sure to also configure the GRID drivers appropriately according the the <a class=link href=https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/install-nvidia-driver-windows.html target=_blank rel=noopener>AWS Guide</a></p>
<p><figure>
<a href=/images/windows_gaming_aws/extractgrid.png>
<img src=/images/windows_gaming_aws/extractgrid.png loading=lazy alt=extractgrid>
</a>
<figcaption>extractgrid</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/gridinstalled.png>
<img src=/images/windows_gaming_aws/gridinstalled.png loading=lazy alt=gridinstalled>
</a>
<figcaption>gridinstalled</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/awsguidegridcomplete.png>
<img src=/images/windows_gaming_aws/awsguidegridcomplete.png loading=lazy alt=awsguidegridcomplete>
</a>
<figcaption>awsguidegridcomplete</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/registryeditor.png>
<img src=/images/windows_gaming_aws/registryeditor.png loading=lazy alt=registryeditor>
</a>
<figcaption>registryeditor</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/nvidianewdword.png>
<img src=/images/windows_gaming_aws/nvidianewdword.png loading=lazy alt=nvidianewdword>
</a>
<figcaption>nvidianewdword</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/nvidiaeditdword.png>
<img src=/images/windows_gaming_aws/nvidiaeditdword.png loading=lazy alt=nvidiaeditdword>
</a>
<figcaption>nvidiaeditdword</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/gridswcertpublic.png>
<img src=/images/windows_gaming_aws/gridswcertpublic.png loading=lazy alt=gridswcertpublic>
</a>
<figcaption>gridswcertpublic</figcaption>
</figure></p>
<h2 id=disable-windows-basic-display-driver-and-install-windows-features>Disable Windows Basic Display Driver and install Windows Features</h2>
<p>Before restarting the VM, configure and install some windows settings and features. First, disable the windows basic display driver via device manager.</p>
<p><figure>
<a href=/images/windows_gaming_aws/controlpanel.png>
<img src=/images/windows_gaming_aws/controlpanel.png loading=lazy alt=controlpanel>
</a>
<figcaption>controlpanel</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/devicemanager.png>
<img src=/images/windows_gaming_aws/devicemanager.png loading=lazy alt=devicemanager>
</a>
<figcaption>devicemanager</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/disablebasicdisplay.png>
<img src=/images/windows_gaming_aws/disablebasicdisplay.png loading=lazy alt=disablebasicdisplay>
</a>
<figcaption>disablebasicdisplay</figcaption>
</figure></p>
<p>Then install some required Windows Features from Server Manager. Specifically after opening Server Manager, you want to use &ldquo;Local Server&rdquo;, and scroll all the way to the bottom to get to the &ldquo;Roles and Features&rdquo; section. In &ldquo;Tasks&rdquo;, you&rsquo;ll get a button to &ldquo;Add Roles and Features&rdquo;.</p>
<p>You want to add at least Media Foundation, QWAVE (Quality Windows Audio Video Experience), and .NET 3.5.</p>
<p><figure>
<a href=/images/windows_gaming_aws/servermanager.png>
<img src=/images/windows_gaming_aws/servermanager.png loading=lazy alt=servermanager>
</a>
<figcaption>servermanager</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/localserveraddfeature.png>
<img src=/images/windows_gaming_aws/localserveraddfeature.png loading=lazy alt=localserveraddfeature>
</a>
<figcaption>localserveraddfeature</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/mediafoundationqwave.png>
<img src=/images/windows_gaming_aws/mediafoundationqwave.png loading=lazy alt=mediafoundationqwave>
</a>
<figcaption>mediafoundationqwave</figcaption>
</figure></p>
<p>While you&rsquo;re installing these features, make sure to also <a class=link href=https://support.microsoft.com/en-us/help/4028544/windows-10-turn-windows-defender-firewall-on-or-off target=_blank rel=noopener>disable Windows Firewall</a> so that you can accept incoming connections on the ports we&rsquo;ve opened for Steam.</p>
<p>Once you&rsquo;ve installed all the required drivers and Windows Features, restart the VM before proceeding to the next section.</p>
<h2 id=download-steam-hamachi-blender-razer-sound-71>Download Steam, Hamachi, Blender, Razer Sound 7.1</h2>
<p>Download and Install <a class=link href=https://store.steampowered.com/about/ target=_blank rel=noopener>Steam</a>, <a class=link href=https://www.vpn.net target=_blank rel=noopener>Hamachi</a>, <a class=link href=https://www.blender.org/ target=_blank rel=noopener>Blender</a>, and <a class=link href=https://www.razer.com/7.1-surround-sound target=_blank rel=noopener>Razer Sound 7.1</a>. Note that you only need to install Razer Sound, you don&rsquo;t need to log in (this is to provide audio drivers).</p>
<p>Login to the same Steam account on your VM and on your client. Also for Hamachi, make sure that your VM and Client are connected to the same VPN group.</p>
<p><figure>
<a href=/images/windows_gaming_aws/steam.png>
<img src=/images/windows_gaming_aws/steam.png loading=lazy alt=steam>
</a>
<figcaption>steam</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/hamachi.png>
<img src=/images/windows_gaming_aws/hamachi.png loading=lazy alt=hamachi>
</a>
<figcaption>hamachi</figcaption>
</figure></p>
<p><figure>
<a href=/images/windows_gaming_aws/blender.png>
<img src=/images/windows_gaming_aws/blender.png loading=lazy alt=blender>
</a>
<figcaption>blender</figcaption>
</figure></p>
<h2 id=steam-settings-for-remote-play-on-host>Steam settings for Remote play on host</h2>
<p>When logged into Steam on the remote VM, go to Steam Settings -> Remote Play -> Advanced Host Options.</p>
<p><a class=link href=https://steamcommunity.com/groups/homestream/discussions/0/1318835718943402340/ target=_blank rel=noopener>Disable</a> &ldquo;Dynamically adjust screen capture&rdquo; and &ldquo;Use NVFBC capture on NVIDIA GPU&rdquo; if you have issues with games crashing on startup.</p>
<p><figure>
<a href=/images/windows_gaming_aws/steamoptions.png>
<img src=/images/windows_gaming_aws/steamoptions.png loading=lazy alt=steamoptions>
</a>
<figcaption>steamoptions</figcaption>
</figure></p>
<h2 id=install-steam-games-you-want-to-play>Install Steam Games you want to play</h2>
<p>Install the steam games you want to play on the Remote VM. Once they&rsquo;re installed and you have Hamachi setup, you should be able to see on your client(s) the Steam &ldquo;Play&rdquo;/&ldquo;Install&rdquo; button become a &ldquo;Stream&rdquo; button. Before clicking &ldquo;Stream&rdquo;, you&rsquo;ll need to create a logout.bat file below and disconnect from Remote Desktop (RDP).</p>
<h2 id=create-logoutbat>Create logout.bat</h2>
<p>Create logout.bat that will log out of remote desktop, but keep Hamachi running (needed since Steam Link crashes while still connected to RDP).</p>
<p>The logout.bat batch script should have the following code:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat># This script locks the server, disconnects you from the servers RDP session
# sending the session back to console so hamachi does not get disconnected

tscon 0 /dest:console
tscon 1 /dest:console
tscon 2 /dest:console
Rundll32.exe User32.dll,LockWorkStation
</code></pre></div><p>Then connect via Steam Streaming when RDP isn&rsquo;t connected. Apparently Steam uses the same connection or something and errors out. Note that you need to ensure that you have a good connection to the server.</p>
<p>Now you can stream games with steam and profit!</p>
<h2 id=remote-workspace>Remote Workspace</h2>
<p>Optional:</p>
<ul>
<li>Since this is a full fledged remote workspace, you can download and use other GPU based tools (Blender, Maya, Photoshop) via RDP - although lag may be more noticeable through RDP and it might be better to do local development and use the remote server for rendering or when you need more compute.</li>
<li>This is also a fully useable Windows Environment if you need to test windows specific features or use Windows only tools.</li>
</ul>
<h2 id=references>References</h2>
<ul>
<li><a class=link href=https://lg.io/2015/07/05/revised-and-much-faster-run-your-own-highend-cloud-gaming-service-on-ec2.html target=_blank rel=noopener>https://lg.io/2015/07/05/revised-and-much-faster-run-your-own-highend-cloud-gaming-service-on-ec2.html</a> - Primarily used this and adapted for Windows Server 2019 and newer Nvidia drivers</li>
<li><a class=link href=https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/install-nvidia-driver-windows.html#nvidia-grid-g4 target=_blank rel=noopener>https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/install-nvidia-driver-windows.html#nvidia-grid-g4</a> - Main AWS Documentation Page for installing windows drivers</li>
<li><a class=link href=https://steamcommunity.com/groups/homestream/discussions/0/1318835718943402340/ target=_blank rel=noopener>https://steamcommunity.com/groups/homestream/discussions/0/1318835718943402340/</a> - Fixing some steam link settings</li>
<li>Apparently Parsec was following a similar guide (just automated): <a class=link href=https://github.com/jamesstringerparsec/Parsec-Cloud-Preparation-Tool/blob/master/PostInstall/PostInstall.ps1 target=_blank rel=noopener>https://github.com/jamesstringerparsec/Parsec-Cloud-Preparation-Tool/blob/master/PostInstall/PostInstall.ps1</a></li>
</ul>
</section>
<footer class=article-footer>
<section class=article-tags>
<a href=/tags/experiments/>experiments</a>
</section>
<section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span>
</section>
</footer>
</article>
<aside class=related-contents--wrapper>
<h2 class=section-title>Related contents</h2>
<div class=related-contents>
<div class="flex article-list--tile">
<article class=has-image>
<a href=/p/new-hugo-blog/>
<div class=article-image>
<img src=/p/new-hugo-blog/hugoblog.3d58b9ac981e19a174c00660fe2b3f93_hu762191763670d76317483cc2e1c12c16_159252_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post New Hugo Blog" data-hash="md5-PVi5rJgeGaF0wAZg/is/kw==">
</div>
<div class=article-details>
<h2 class=article-title>New Hugo Blog</h2>
</div>
</a>
</article>
<article class=has-image>
<a href=/p/experiments/next-js-with-postgraphile/>
<div class=article-image>
<img src=/images/nextjs_postgraphile/postgraphile.png loading=lazy data-key=/experiments/next-js-with-postgraphile data-hash=/images/nextjs_postgraphile/postgraphile.png>
</div>
<div class=article-details>
<h2 class=article-title>Next.js with Postgraphile</h2>
</div>
</a>
</article>
<article class=has-image>
<a href=/p/experiments/vscode-online-with-aws/>
<div class=article-image>
<img src=/images/vscode_online/vscode.png loading=lazy data-key=/experiments/vscode-online-with-aws data-hash=/images/vscode_online/vscode.png>
</div>
<div class=article-details>
<h2 class=article-title>VSCode Online with AWS</h2>
</div>
</a>
</article>
<article class=has-image>
<a href=/p/experiments/github-pages-for-static-sites/>
<div class=article-image>
<img src=/images/github_pages/github_pages_cropped.png loading=lazy data-key=/experiments/github-pages-for-static-sites data-hash=/images/github_pages/github_pages_cropped.png>
</div>
<div class=article-details>
<h2 class=article-title>Github Pages for Static Sites</h2>
</div>
</a>
</article>
<article class=has-image>
<a href=/p/experiments/qemu-and-tinycore/>
<div class=article-image>
<img src=/images/qemu_and_tinycore_linux/qemu.png loading=lazy data-key=/experiments/qemu-and-tinycore data-hash=/images/qemu_and_tinycore_linux/qemu.png>
</div>
<div class=article-details>
<h2 class=article-title>QEMU and Tinycore Linux</h2>
</div>
</a>
</article>
</div>
</div>
</aside>
<footer class=site-footer>
<section class=copyright>
&copy;
2019 -
2022 Suyog's Blog
</section>
<section class=powerby>
Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> <br>
Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.6.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a>
</section>
</footer>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous>
</main>
<aside class="sidebar right-sidebar sticky">
<section class="widget archives">
<div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
</div>
<h2 class="widget-title section-title">Table of contents</h2>
<div class=widget--toc>
<nav id=TableOfContents>
<ol>
<li><a href=#why-would-you-want-this>Why would you want this?</a></li>
<li><a href=#what-gpu-machines-are-available-on-aws-and-pricing>What GPU machines are available on AWS and Pricing</a></li>
<li><a href=#operating-system-and-specs>Operating System and Specs</a></li>
<li><a href=#guide>Guide</a></li>
<li><a href=#get-an-aws-windows-vm>Get an AWS Windows VM</a></li>
<li><a href=#disable-ie-restrictions-and-get-chrome>Disable IE Restrictions and get Chrome</a></li>
<li><a href=#install-nvidia-graphics-drivers-grid-drivers>Install Nvidia Graphics Drivers, GRID drivers</a></li>
<li><a href=#disable-windows-basic-display-driver-and-install-windows-features>Disable Windows Basic Display Driver and install Windows Features</a></li>
<li><a href=#download-steam-hamachi-blender-razer-sound-71>Download Steam, Hamachi, Blender, Razer Sound 7.1</a></li>
<li><a href=#steam-settings-for-remote-play-on-host>Steam settings for Remote play on host</a></li>
<li><a href=#install-steam-games-you-want-to-play>Install Steam Games you want to play</a></li>
<li><a href=#create-logoutbat>Create logout.bat</a></li>
<li><a href=#remote-workspace>Remote Workspace</a></li>
<li><a href=#references>References</a></li>
</ol>
</nav>
</div>
<div>
<style>.resp-sharing-button__link,.resp-sharing-button__icon{display:inline-block}.resp-sharing-button__link{text-decoration:none;color:#fff;margin:.5em}.resp-sharing-button{border-radius:5px;transition:25ms ease-out;padding:.5em .75em;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-sharing-button__icon svg{width:1em;height:1em;margin-right:.4em;vertical-align:top}.resp-sharing-button--small svg{margin:0;vertical-align:middle}.resp-sharing-button__icon{stroke:#fff;fill:none}.resp-sharing-button__icon--solid,.resp-sharing-button__icon--solidcircle{fill:#fff;stroke:none}.resp-sharing-button--twitter{background-color:#55acee}.resp-sharing-button--twitter:hover{background-color:#2795e9}.resp-sharing-button--pinterest{background-color:#bd081c}.resp-sharing-button--pinterest:hover{background-color:#8c0615}.resp-sharing-button--facebook{background-color:#3b5998}.resp-sharing-button--facebook:hover{background-color:#2d4373}.resp-sharing-button--tumblr{background-color:#35465c}.resp-sharing-button--tumblr:hover{background-color:#222d3c}.resp-sharing-button--reddit{background-color:#5f99cf}.resp-sharing-button--reddit:hover{background-color:#3a80c1}.resp-sharing-button--google{background-color:#dd4b39}.resp-sharing-button--google:hover{background-color:#c23321}.resp-sharing-button--linkedin{background-color:#0077b5}.resp-sharing-button--linkedin:hover{background-color:#046293}.resp-sharing-button--email{background-color:#777}.resp-sharing-button--email:hover{background-color:#5e5e5e}.resp-sharing-button--xing{background-color:#1a7576}.resp-sharing-button--xing:hover{background-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366}.resp-sharing-button--whatsapp:hover{background-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60}.resp-sharing-button--hackernews:hover,.resp-sharing-button--hackernews:focus{background-color:#fb6200}.resp-sharing-button--vk{background-color:#507299}.resp-sharing-button--vk:hover{background-color:#43648c}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:hover,.resp-sharing-button--facebook:active{background-color:#2d4373;border-color:#2d4373}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:hover,.resp-sharing-button--twitter:active{background-color:#2795e9;border-color:#2795e9}.resp-sharing-button--email{background-color:#777;border-color:#777}.resp-sharing-button--email:hover,.resp-sharing-button--email:active{background-color:#5e5e5e;border-color:#5e5e5e}.resp-sharing-button--linkedin{background-color:#0077b5;border-color:#0077b5}.resp-sharing-button--linkedin:hover,.resp-sharing-button--linkedin:active{background-color:#046293;border-color:#046293}.resp-sharing-button--reddit{background-color:#5f99cf;border-color:#5f99cf}.resp-sharing-button--reddit:hover,.resp-sharing-button--reddit:active{background-color:#3a80c1;border-color:#3a80c1}.resp-sharing-button--hackernews{background-color:#f60;border-color:#f60}.resp-sharing-button--hackernews:hover .resp-sharing-button--hackernews:active{background-color:#fb6200;border-color:#fb6200}</style>
<a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fwindows-gaming-pc-on-aws%2f" target=_blank rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg>
</div>
</div>
</a>
<a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?text=Create%20your%20own%20Windows%20Gaming%20PC%20on%20AWS&url=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fwindows-gaming-pc-on-aws%2f" target=_blank rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5.0-4.55 2.04-4.55 4.54.0.36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3.0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35.0 12.92-6.92 12.92-12.93.0-.2.0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg>
</div>
</div>
</a>
<a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fwindows-gaming-pc-on-aws%2f&title=Create%20your%20own%20Windows%20Gaming%20PC%20on%20AWS" target=_blank rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6.0 2.5 1 2.6 2.5.0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg>
</div>
</div>
</a>
<a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fwindows-gaming-pc-on-aws%2f&resubmit=true&title=Create%20your%20own%20Windows%20Gaming%20PC%20on%20AWS" target=_blank rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 11.5c0-1.65-1.35-3-3-3-.96.0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65.0 3-1.35 3-3s-1.35-3-3-3c-1.38.0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65.0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66.0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64.0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4.0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6.0.23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1.0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1.0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"/></svg>
</div>
</div>
</a>
<a class=resp-sharing-button__link href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fwindows-gaming-pc-on-aws%2f&t=Create%20your%20own%20Windows%20Gaming%20PC%20on%20AWS" target=_blank rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 140 140"><path fill-rule="evenodd" d="M60.94 82.314 17 0h20.08l25.85 52.093c.397.927.86 1.888 1.39 2.883.53.994.995 2.02 1.393 3.08.265.4.463.764.596 1.095.13.334.262.63.395.898.662 1.325 1.26 2.618 1.79 3.877.53 1.26.993 2.42 1.39 3.48 1.06-2.254 2.22-4.673 3.48-7.258s2.552-5.27 3.877-8.052L103.49.0h18.69L77.84 83.308v53.087h-16.9v-54.08z"/></svg>
</div>
</div>
</a>
<a class=resp-sharing-button__link href="mailto:?subject=Create%20your%20own%20Windows%20Gaming%20PC%20on%20AWS&body=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fwindows-gaming-pc-on-aws%2f" target=_self rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 4H2C.9 4 0 4.9.0 6v12c0 1.1.9 2 2 2h20c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17.0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1.0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08.0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"/></svg>
</div>
</div>
</a>
</div>
</section>
</aside>
</div>
<script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script>
</body>
</html>