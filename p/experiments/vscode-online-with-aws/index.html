<!doctype html><html lang=en-us>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="NOTE: This post is deprecated as VSCode Online added the ability to start a vscode server without a UI after rebranding to Visual Studio Codespaces. Github Codespaces would probably use something similar and would be a better overall experience than manually setting up an instance on AWS.
I&amp;rsquo;m writing this blog post using VSCode Online using a hosted environment on AWS.
This is pretty awesome as it lets me use VSCode from a webbrowser to connect to a VM running on my AWS account."><title>VSCode Online with AWS</title>
<link rel=canonical href=https://suyogs.com/p/experiments/vscode-online-with-aws/>
<link rel=stylesheet href=/scss/style.min.775dbd4fd34fda61c5273b4bc3415f7c9666414fb6c40aab164a7ded4397da98.css><meta property="og:title" content="VSCode Online with AWS">
<meta property="og:description" content="NOTE: This post is deprecated as VSCode Online added the ability to start a vscode server without a UI after rebranding to Visual Studio Codespaces. Github Codespaces would probably use something similar and would be a better overall experience than manually setting up an instance on AWS.
I&amp;rsquo;m writing this blog post using VSCode Online using a hosted environment on AWS.
This is pretty awesome as it lets me use VSCode from a webbrowser to connect to a VM running on my AWS account.">
<meta property="og:url" content="https://suyogs.com/p/experiments/vscode-online-with-aws/">
<meta property="og:site_name" content="Suyog's Blog">
<meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="experiments"><meta property="article:published_time" content="2019-11-29T00:00:00+00:00"><meta property="article:modified_time" content="2019-11-29T00:00:00+00:00"><meta property="og:image" content="https://suyogs.com/images/vscode_online/vscode.png">
<meta name=twitter:title content="VSCode Online with AWS">
<meta name=twitter:description content="NOTE: This post is deprecated as VSCode Online added the ability to start a vscode server without a UI after rebranding to Visual Studio Codespaces. Github Codespaces would probably use something similar and would be a better overall experience than manually setting up an instance on AWS.
I&amp;rsquo;m writing this blog post using VSCode Online using a hosted environment on AWS.
This is pretty awesome as it lets me use VSCode from a webbrowser to connect to a VM running on my AWS account."><meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://suyogs.com/images/vscode_online/vscode.png">
</head>
<body class="article-page has-toc">
<script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.scheme='dark':document.documentElement.dataset.scheme='light'})()</script>
<div class="container main-container flex
extended">
<div id=article-toolbar>
<a href=/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg>
<span>Back</span>
</a>
</div>
<main class="main full-width">
<article class="has-image main-article">
<header class=article-header>
<div class=article-image>
<a href=/p/experiments/vscode-online-with-aws/>
<img src=/images/vscode_online/vscode.png loading=lazy alt="Featured image of post VSCode Online with AWS">
</a>
</div>
<div class=article-details>
<header class=article-category>
<a href=/categories/experiments/ style=background-color:#2a9d8f;color:#fff>
Experiments
</a>
</header>
<h2 class=article-title>
<a href=/p/experiments/vscode-online-with-aws/>VSCode Online with AWS</a>
</h2>
<footer class=article-time>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Nov 29, 2019</time>
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>
11 minute read
</time>
</div>
</footer>
</div>
</header>
<section class=article-content>
<p>NOTE: This post is deprecated as VSCode Online added the ability to start a vscode server without a UI after rebranding to Visual Studio Codespaces.
<a class=link href=https://github.com/features/codespaces/ target=_blank rel=noopener>Github Codespaces</a> would probably use something similar and would be a better overall experience than manually setting
up an instance on AWS.</p>
<p>I&rsquo;m writing this blog post using <a class=link href=https://visualstudio.microsoft.com/services/visual-studio-online/ target=_blank rel=noopener>VSCode Online</a> using a hosted environment on AWS.</p>
<p>This is pretty awesome as it lets me use VSCode from a webbrowser to connect to a VM running on my AWS account.</p>
<p>This post goes over how I set it up, what works, and how I believe that remote development like this is not just the future, but also a critial part of what Github (now owned by Microsoft) will offer in the future.</p>
<h1 id=why-remote-development>Why Remote Development</h1>
<ul>
<li>Can access from anywhere</li>
<li>A single browser for all your apps (VSCode, Terminal, Google, etc.)</li>
<li>Save on costs & pay for what you use - if you need a larger machine, just shutdown the instance, get a bigger one for a few hours. Works extremely well with the On Demand / Spot instance model of pricing (if backups & temporary non-committed state handled seamlessly)</li>
<li>Should definitely be automated so that a disconnect from the environment can run a command to shutdown the instance. Should also be able to run a lambda or Azure function in order to &ldquo;boot up&rdquo; a self-hosted instance too (saves on costs significantly)</li>
<li>Can be automated so that load from a setup image, does a git pull (if necessary), has environment already configured</li>
<li>Not local & on a virtual machine, so any issues with client computer (hard drive breaks, etc.) won&rsquo;t happen. Also if VM gets corrupted / in a bad state, just make a new VM from a backed up image</li>
<li><strong>Potentially</strong> Access from phone in the <em>near</em> future.</li>
<li><strong>Potentially</strong> Github &ldquo;edit in vscode&rdquo; that will spawn an environment automatically and let me edit the repository with an IDE like experience.</li>
</ul>
<h1 id=setup>Setup</h1>
<ul>
<li>Get an AWS account - this entire setup is much easier if you just use Azure, but this guide is specifically for people on a different cloud provider (using a VM in Google Cloud or Digital Ocean with VSCode Online will be very similar)</li>
<li>Start a new instance - I used a T2.Medium since it has 4GB RAM and 2 Virtual Cores</li>
<li>Start with a terminal based Ubuntu 18.04 instance</li>
<li>Follow instructions to setup machine with a GUI, Setup VNC server properly</li>
<li>In VNC server, get vscode (there was an error here around X11, fix that) - Mac can use Finder as client. Note that GUI is pretty barebones, you want to get Firefox to just download VSCode quickly.</li>
<li>Once VSCode is installed (via .deb), download the VSCode Online extension</li>
<li>Use the command palette and follow the instructions to setup a local environment</li>
<li>Note that you need to have a vscode online account AND an Azure account here</li>
<li>The azure account also needs to have a subscription &ldquo;plan&rdquo; for VSCode online even though you won&rsquo;t be using their environments</li>
<li>Once environment is setup, you want to connect to the environment from <a class=link href=https://online.visualstudio.com target=_blank rel=noopener>https://online.visualstudio.com</a></li>
<li>In the environment, you&rsquo;ll automatically connect to the folder you specified as the workspace</li>
<li>Change the max file watchers so that VSCode doesn&rsquo;t complain (and node/yarn don&rsquo;t complain)</li>
<li>I wanted to work with a Nodejs app and also do Jupyter development, so I also set those up.</li>
</ul>
<h1 id=step-by-step>Step by Step</h1>
<p>Systematic way of setting up an Ubuntu Environment with xfce4, Chrome, VSCode, Nodejs, and Jupyter for web based remote development from any device.</p>
<h1 id=getting-an-aws-instance-and-setting-up-the-right-security-group>Getting an AWS Instance and setting up the right security group</h1>
<p>Get an instance - I got a t3.medium with 2 VCPUs and 4GB RAM. I also attached a 32GB SSD Disk to the VM.</p>
<p>Make sure the Security Group is setup properly (inbound connections from these ports should be allowed):</p>
<pre tabindex=0><code>Ports 8000-8001, 9000 for web development purposes 
Port 8888 for Jupyter
Port 22 for SSH
Port 5901 for VNC
</code></pre><p>Note that I usually limit the security group to only my IP since this is intended to be a development machine.</p>
<h1 id=getting-gnome-desktop-and-vnc-setup-on-ubuntu-1804-server>Getting gnome-desktop and VNC setup on Ubuntu 18.04 Server</h1>
<p>TODO: Update to use gnome-desktop rather than xfce4 which has odd bugs that cause it to crash frequently & the VNC connection needs to be re-established / VSCode environment needs to be refreshed.</p>
<p>Note: Replace <code>USER=suyogs</code> with the username you want to setup. When you add your user, it will ask for a password that will be used for authentication.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=nv>USER</span><span class=o>=</span>suyogs
sudo apt update <span class=o>&amp;&amp;</span> sudo apt install -y ubuntu-desktop tightvncserver gnome-panel gnome-settings-daemon metacity nautilus gnome-terminal build-essential
sudo adduser <span class=nv>$USER</span>
sudo usermod -aG sudo <span class=nv>$USER</span>
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>su - <span class=nv>$USER</span>
</code></pre></div><p>As your <code>$USER</code>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>vncserver 
vncserver -kill :1
mv ~/.vnc/xstartup ~/.vnc/xstartup.bak
vim ~/.vnc/xstartup
</code></pre></div><p>Make some common directories for your user:</p>
<pre tabindex=0><code>mkdir -p ~/Documents ~/Desktop ~/Downloads ~/Music ~/Pictures ~/Movies ~/Projects
</code></pre><p>In the <code>~/.vnc/xstartup</code> file, add the following:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=cp>#!/bin/bash
</span><span class=cp></span>
<span class=nb>export</span> <span class=nv>XKL_XMODMAP_DISABLE</span><span class=o>=</span><span class=m>1</span>
<span class=nb>unset</span> SESSION_MANAGER
<span class=nb>unset</span> DBUS_SESSION_BUS_ADDRESS

<span class=o>[</span> -x /etc/vnc/xstartup <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=nb>exec</span> /etc/vnc/xstartup
<span class=o>[</span> -r <span class=nv>$HOME</span>/.Xresources <span class=o>]</span> <span class=o>&amp;&amp;</span> xrdb <span class=nv>$HOME</span>/.Xresources
xsetroot -solid grey
vncconfig -iconic <span class=p>&amp;</span>

gnome-session <span class=p>&amp;</span>
gnome-panel <span class=p>&amp;</span>
gnome-settings-daemon <span class=p>&amp;</span>
metacity <span class=p>&amp;</span>
nautilus <span class=p>&amp;</span>
<span class=c1># gnome-terminal &amp;</span>
</code></pre></div><p>Then run this in your <code>$USER</code>&rsquo;s shell:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>sudo chmod +x ~/.vnc/xstartup
vncserver
</code></pre></div><p>At this point, you should be able to connect to VNC on your Ubuntu machine by using a VNC Client (see below for clients on Mac and iPhone) and connecting to <code>vnc://YOUR_PUBLIC_IP:5901</code>. The next step will setup VNC to be a systemctl service that will spawn on boot.</p>
<p>To figure out your public ip from the terminal, you can just use the following command:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>curl ifconfig.co
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>sudo vim /etc/systemd/system/vncserver@.service
</code></pre></div><p>In the <code>/etc/systemd/system/vncserver@.service</code> file, add the following (NOTE: Be sure to replace <strong>YOUR_USER</strong> with the username from above manually):</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>[Unit]
Description=Start TightVNC server at startup
After=syslog.target network.target

[Service]
Type=forking
User=YOUR_USER
Group=YOUR_USER
WorkingDirectory=/home/YOUR_USER

PIDFile=/home/YOUR_USER/.vnc/%H:%i.pid
ExecStartPre=-/usr/bin/vncserver -kill :%i &gt; /dev/null 2&gt;&amp;1
ExecStart=/usr/bin/vncserver -depth 24 -geometry 1280x800 :%i
ExecStop=/usr/bin/vncserver -kill :%i

[Install]
WantedBy=multi-user.target
</code></pre></div><p>Run the following to restart vnc:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>vncserver -kill :1
sudo systemctl daemon-reload
sudo systemctl <span class=nb>enable</span> vncserver@1.service
sudo systemctl start vncserver@1
sudo systemctl status vncserver@1
</code></pre></div><p>You should now be able to reboot your machine and VNC will be setup on boot.</p>
<h1 id=getting-chrome-and-vscode-installed>Getting Chrome and VSCode Installed</h1>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
sudo dpkg -i google-chrome-stable_current_amd64.deb
rm google-chrome-stable_current_amd64.deb 
wget -O code.deb https://go.microsoft.com/fwlink/?LinkID<span class=o>=</span><span class=m>760868</span>
sudo dpkg -i code.deb 
rm code.deb 
</code></pre></div><p>Fix an issue around Code not booting in remote VNC/X sessions and install the VSOnline extension:</p>
<pre tabindex=0><code>cd /usr/lib/x86_64-linux-gnu/
cp libxcb.so.1 libxcb.so.1.bak
sudo cp libxcb.so.1 libxcb.so.1.bak
sudo sed -i 's/BIG-REQUESTS/_IG-REQUESTS/' libxcb.so.1
cd ~
code --install-extension ms-vsonline.vsonline
</code></pre><p>At this point, you should be able to open up VNC, open VSCode and connect to your Azure account and VSOnline account. In addition, you want to <a class=link href=https://docs.microsoft.com/en-us/visualstudio/online/how-to/vscode#self-hosted target=_blank rel=noopener>Register your local environment</a> so that it shows up at <a class=link href=https://online.visualstudio.com target=_blank rel=noopener>https://online.visualstudio.com</a></p>
<h1 id=getting-nodejs-and-yarn>Getting NodeJS and Yarn</h1>
<p>This will get NodeJS and Yarn and update /etc/sysctl.conf so you don&rsquo;t run into file watcher errors from yarn or VSCode.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>curl -sL https://deb.nodesource.com/setup_12.x <span class=p>|</span> sudo -E bash -
sudo apt-get install -y nodejs
curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg <span class=p>|</span> sudo apt-key add -
<span class=nb>echo</span> <span class=s2>&#34;deb https://dl.yarnpkg.com/debian/ stable main&#34;</span> <span class=p>|</span> sudo tee /etc/apt/sources.list.d/yarn.list
sudo apt update <span class=o>&amp;&amp;</span> sudo apt install yarn
npm config <span class=nb>set</span> python python2.7
sudo vim /etc/sysctl.conf
</code></pre></div><p>Do the following change to sysctl to fix a common file watcher issue in yarn / vscode:</p>
<p>In the <code>/etc/sysctl.conf</code> File, add the following to the end of the file:</p>
<pre tabindex=0><code>fs.inotify.max_user_watches=524288
</code></pre><p>Finally, run the following command:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>sudo sysctl -p
</code></pre></div><h1 id=getting-jupyter>Getting Jupyter</h1>
<p>As your $USER, do the following:</p>
<pre tabindex=0><code>cd Downloads/
wget https://repo.anaconda.com/archive/Anaconda3-2019.07-Linux-x86_64.sh
bash ./Anaconda3-2019.07-Linux-x86_64.sh
</code></pre><p>You&rsquo;ll have to hit [Enter][Space], type <code>yes</code> to accept Anacondas license terms, [Enter] to confirm <code>/home/$USER/anaconda3</code> is the right location to install to, <code>yes</code> again to run conda init & update your PATH, then relogin to your user&rsquo;s shell session. If you run <code>python --version</code>, you should see Python 3.7+ now.</p>
<p>Now just run the following:</p>
<pre tabindex=0><code>conda update --all --yes
jupyter notebook --ip=0.0.0.0
</code></pre><p>Jupyter will give a <code>?token=TOKEN</code> url in the logs, you should be able to access your Jupyter instance at <code>http://YOUR_PUBLIC_IP:8888?token=TOKEN</code> and work with notebooks there.</p>
<h1 id=getting-postgres>Getting Postgres</h1>
<p>Getting postgres setup for local database connections</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>sudo apt-get install -y postgresql
</code></pre></div><p>You should then be able to access a database locally using:</p>
<pre tabindex=0><code>sudo -u postgres psql
</code></pre><h1 id=vnc>VNC</h1>
<p>On a Mac, you can use Screen Sharing which is built into Finder (Command+K in Finder) and connect with a <code>vnc://YOUR_IP:5901</code> url.</p>
<p>On iPhone, use <a class=link href=https://apps.apple.com/us/app/vnc-viewer-remote-desktop/id352019548 target=_blank rel=noopener>VNC Viewer</a>, just remove the &ldquo;vnc://&rdquo; from the connection, so <code>YOUR_IP:5901</code> should work.</p>
<h1 id=troubleshooting>Troubleshooting</h1>
<ul>
<li>Fallback to SSH via a terminal. Make sure to keep your AWS ssh key. Note that if you set sshd config to allow password auth, that might not work and you will need to login as your created user.</li>
<li>Use VNC / Check if GUI is working properly via VNC. A follow up here is to setup vncserver to start on starup for the user you created. VNC will need to have VSCode running on the environment (unfortunately this looks like a limitation of the public beta right now)</li>
</ul>
<h2 id=debugging--troubleshooting-vnc>Debugging / Troubleshooting VNC</h2>
<p>I had the VNC server crash sometimes - to debug, I first checked if SSH was still working - it might be that the VNC server crashed (which is necessary for VSCode to connect to the remote environment). If SSH isn&rsquo;t working, it might be that your VM crashed, check AWS&rsquo;s console to see if there&rsquo;s an issue / maybe reboot.</p>
<p>From an ssh session as your $USER, try the following:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>sudo systemctl status vncserver@1.service
sudo systemctl restart vncserver@1.service
</code></pre></div><p>If thereâ€™s an error, try these to debug / figure out what the issue is:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>vncserver -kill :1
sudo journalctl -xe
</code></pre></div><h1 id=what-needs-a-bit-more-work>What needs a bit more work</h1>
<p>The VSCode online client seems to get stuck in a &ldquo;Reconnecting&rdquo; state, where its easier to just refresh the page / go back to the environments page and click on your environment again.</p>
<p>Right now there&rsquo;s some usability issues that could be resolved:</p>
<ul>
<li>I (manually) shutdown the instance to save on costs when I&rsquo;m not using it. As soon as connection is lost, the instance should shutdown after 2 hours.</li>
<li>I would love if I didn&rsquo;t have to use VNC at all (might be difficult since VSCode needs Electron which is based on Chrome, which needs a GUI environment to run).</li>
<li>AWS instances and Public IPs: The public IP of the instance changed, so I needed to ssh/vnc to a different host - need a script to automatically find the public ip based on the instance id (aws ec2 cli can give this, but it would be nicer to have a dynamic dns name that I could just hit from AWS). AWS has tutorials on how to do this w/ other services, but honestly Route 53 should just allow me to use an instance-id as an A Alias rather than a public IP (or have to go through some configuration setup on boot).</li>
<li>After booting, I still need to manually VNC into the machine, open up VSCode, login TWICE using the same Microsoft credentials (login to Azure, then login to VSOnline&rsquo;s environments), then &ldquo;Restore&rdquo; the environment before I can access via webbrowser. All of this should be possible automatically - first, why isn&rsquo;t VSCode <a class=link href=https://code.visualstudio.com/api/extension-capabilities/common-capabilities#data-storage target=_blank rel=noopener>storing</a>/caching my credentials so that I&rsquo;m automatically re-authenticated to Azure and VSOnline? Second, there should be some configuration where &ldquo;Restoring&rdquo; an environment can be automated/done via command-line and I should be able to start vscode via command line too (ie on boot).</li>
<li>This manual process takes around 5 minutes, but its no where near as simple as &ldquo;go to this webpage, you&rsquo;re already authenticated because its storing your auth in a cookie, here&rsquo;s your environment, get started immediately&rdquo;.</li>
</ul>
<h1 id=the-future>The future</h1>
<ul>
<li>Instant Github integration like Github Actions - &ldquo;edit this repo&rdquo; button built into Github that will automatically provision an environment, clone the repo, and start a build/prebuild command based on a repo&rsquo;s .workspace or .vsonline directory (similar to .github right now)</li>
<li>Future: Coding from my phone (iPhone) - not necesarily on my phone&rsquo;s touchscreen, but with my phone connected via USB-C to a 4k monitor, bluetooth connection to keyboard & trackpad. Samsung already kinda has something like this with DeX, but this isn&rsquo;t trying to shoehorn another OS onto your phone - this should just be iOS (or Android), I should be able to go to <a class=link href=https://online.visualstudio.com target=_blank rel=noopener>https://online.visualstudio.com</a> and connect to my devserver. Essentially I wouldn&rsquo;t need a laptop because I could carry my computing device in my pocket and connect to a higher resolution, larger screen whenever/where-ever I need to.</li>
<li>Visual Studio online doesnt officially support Safari mobile yet</li>
</ul>
<h1 id=references>References</h1>
<ul>
<li>
<p><a class=link href=https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/ target=_blank rel=noopener>https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/</a> - Sign up for AWS</p>
</li>
<li>
<p><a class=link href=https://aws.amazon.com/ec2/getting-started/ target=_blank rel=noopener>https://aws.amazon.com/ec2/getting-started/</a> - Connecting to an instance (note that AWS has an online console now too, but I generally just use ssh with the downloaded keypair example: <code>ssh -i ~/.ssh/MY_KEYPAIR.pem ubuntu@MY_IP</code>).</p>
</li>
<li>
<p><a class=link href=https://www.digitalocean.com/community/questions/ubuntu-16-04-creating-new-user-and-adding-ssh-keys target=_blank rel=noopener>https://www.digitalocean.com/community/questions/ubuntu-16-04-creating-new-user-and-adding-ssh-keys</a> - adding a new user in Ubuntu 18.04</p>
</li>
<li>
<p><a class=link href=https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04 target=_blank rel=noopener>https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04</a> - getting xfce4 and vnc installed on ubuntu server. Also setting it up to start on reboot.</p>
</li>
<li>
<p><a class=link href=https://visualstudio.microsoft.com/services/visual-studio-online/#signup target=_blank rel=noopener>https://visualstudio.microsoft.com/services/visual-studio-online/#signup</a> - Sign up for VSCode Online</p>
</li>
<li>
<p><a class=link href=https://code.visualstudio.com/docs/remote/vsonline#_selfhosted-environments target=_blank rel=noopener>https://code.visualstudio.com/docs/remote/vsonline#_selfhosted-environments</a> - Self hosted environments with VSCode Online</p>
</li>
<li>
<p><a class=link href=https://docs.microsoft.com/en-us/visualstudio/online/how-to/vscode#self-hosted target=_blank rel=noopener>https://docs.microsoft.com/en-us/visualstudio/online/how-to/vscode#self-hosted</a></p>
</li>
<li>
<p><a class=link href=https://code.visualstudio.com/docs/setup/linux#_visual-studio-code-is-unable-to-watch-for-file-changes-in-this-large-workspace-error-enospc target=_blank rel=noopener>https://code.visualstudio.com/docs/setup/linux#_visual-studio-code-is-unable-to-watch-for-file-changes-in-this-large-workspace-error-enospc</a> - Fixing file watchers issues</p>
</li>
<li>
<p><a class=link href=https://github.com/nodesource/distributions/blob/master/README.md target=_blank rel=noopener>https://github.com/nodesource/distributions/blob/master/README.md</a> - installing Nodejs on Ubuntu</p>
</li>
<li>
<p><a class=link href=https://yarnpkg.com/lang/en/docs/install/#debian-stable target=_blank rel=noopener>https://yarnpkg.com/lang/en/docs/install/#debian-stable</a> - installing Yarn on Ubuntu</p>
</li>
<li>
<p><a class=link href=https://mas-dse.github.io/startup/anaconda-ubuntu-install/ target=_blank rel=noopener>https://mas-dse.github.io/startup/anaconda-ubuntu-install/</a> - Getting Jupyter</p>
</li>
<li>
<p><a class=link href=https://jupyter-notebook.readthedocs.io/en/stable/public_server.html target=_blank rel=noopener>https://jupyter-notebook.readthedocs.io/en/stable/public_server.html</a> - Starting Jupyter notebook on ip=0.0.0.0</p>
</li>
<li>
<p><a class=link href=https://stackoverflow.com/questions/48210972/xlib-extension-xinputextension-missing-on-display-1-atom-ubuntu target=_blank rel=noopener>https://stackoverflow.com/questions/48210972/xlib-extension-xinputextension-missing-on-display-1-atom-ubuntu</a> - Fixing Xlib issue over VNC</p>
</li>
</ul>
</section>
<footer class=article-footer>
<section class=article-tags>
<a href=/tags/experiments/>experiments</a>
</section>
<section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span>
</section>
</footer>
</article>
<aside class=related-contents--wrapper>
<h2 class=section-title>Related contents</h2>
<div class=related-contents>
<div class="flex article-list--tile">
<article class=has-image>
<a href=/p/new-hugo-blog/>
<div class=article-image>
<img src=/p/new-hugo-blog/hugoblog.3d58b9ac981e19a174c00660fe2b3f93_hu762191763670d76317483cc2e1c12c16_159252_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post New Hugo Blog" data-hash="md5-PVi5rJgeGaF0wAZg/is/kw==">
</div>
<div class=article-details>
<h2 class=article-title>New Hugo Blog</h2>
</div>
</a>
</article>
<article class=has-image>
<a href=/p/experiments/next-js-with-postgraphile/>
<div class=article-image>
<img src=/images/nextjs_postgraphile/postgraphile.png loading=lazy data-key=/experiments/next-js-with-postgraphile data-hash=/images/nextjs_postgraphile/postgraphile.png>
</div>
<div class=article-details>
<h2 class=article-title>Next.js with Postgraphile</h2>
</div>
</a>
</article>
<article class=has-image>
<a href=/p/experiments/windows-gaming-pc-on-aws/>
<div class=article-image>
<img src=/images/windows_gaming_aws/steam.png loading=lazy data-key=/experiments/windows-gaming-pc-on-aws data-hash=/images/windows_gaming_aws/steam.png>
</div>
<div class=article-details>
<h2 class=article-title>Create your own Windows Gaming PC on AWS</h2>
</div>
</a>
</article>
<article class=has-image>
<a href=/p/experiments/github-pages-for-static-sites/>
<div class=article-image>
<img src=/images/github_pages/github_pages_cropped.png loading=lazy data-key=/experiments/github-pages-for-static-sites data-hash=/images/github_pages/github_pages_cropped.png>
</div>
<div class=article-details>
<h2 class=article-title>Github Pages for Static Sites</h2>
</div>
</a>
</article>
<article class=has-image>
<a href=/p/experiments/qemu-and-tinycore/>
<div class=article-image>
<img src=/images/qemu_and_tinycore_linux/qemu.png loading=lazy data-key=/experiments/qemu-and-tinycore data-hash=/images/qemu_and_tinycore_linux/qemu.png>
</div>
<div class=article-details>
<h2 class=article-title>QEMU and Tinycore Linux</h2>
</div>
</a>
</article>
</div>
</div>
</aside>
<footer class=site-footer>
<section class=copyright>
&copy;
2019 -
2022 Suyog's Blog
</section>
<section class=powerby>
Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> <br>
Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.6.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a>
</section>
</footer>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous>
</main>
<aside class="sidebar right-sidebar sticky">
<section class="widget archives">
<div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
</div>
<h2 class="widget-title section-title">Table of contents</h2>
<div class=widget--toc>
<nav id=TableOfContents>
<ol>
<li><a href=#debugging--troubleshooting-vnc>Debugging / Troubleshooting VNC</a></li>
</ol>
</nav>
</div>
<div>
<style>.resp-sharing-button__link,.resp-sharing-button__icon{display:inline-block}.resp-sharing-button__link{text-decoration:none;color:#fff;margin:.5em}.resp-sharing-button{border-radius:5px;transition:25ms ease-out;padding:.5em .75em;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-sharing-button__icon svg{width:1em;height:1em;margin-right:.4em;vertical-align:top}.resp-sharing-button--small svg{margin:0;vertical-align:middle}.resp-sharing-button__icon{stroke:#fff;fill:none}.resp-sharing-button__icon--solid,.resp-sharing-button__icon--solidcircle{fill:#fff;stroke:none}.resp-sharing-button--twitter{background-color:#55acee}.resp-sharing-button--twitter:hover{background-color:#2795e9}.resp-sharing-button--pinterest{background-color:#bd081c}.resp-sharing-button--pinterest:hover{background-color:#8c0615}.resp-sharing-button--facebook{background-color:#3b5998}.resp-sharing-button--facebook:hover{background-color:#2d4373}.resp-sharing-button--tumblr{background-color:#35465c}.resp-sharing-button--tumblr:hover{background-color:#222d3c}.resp-sharing-button--reddit{background-color:#5f99cf}.resp-sharing-button--reddit:hover{background-color:#3a80c1}.resp-sharing-button--google{background-color:#dd4b39}.resp-sharing-button--google:hover{background-color:#c23321}.resp-sharing-button--linkedin{background-color:#0077b5}.resp-sharing-button--linkedin:hover{background-color:#046293}.resp-sharing-button--email{background-color:#777}.resp-sharing-button--email:hover{background-color:#5e5e5e}.resp-sharing-button--xing{background-color:#1a7576}.resp-sharing-button--xing:hover{background-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366}.resp-sharing-button--whatsapp:hover{background-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60}.resp-sharing-button--hackernews:hover,.resp-sharing-button--hackernews:focus{background-color:#fb6200}.resp-sharing-button--vk{background-color:#507299}.resp-sharing-button--vk:hover{background-color:#43648c}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:hover,.resp-sharing-button--facebook:active{background-color:#2d4373;border-color:#2d4373}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:hover,.resp-sharing-button--twitter:active{background-color:#2795e9;border-color:#2795e9}.resp-sharing-button--email{background-color:#777;border-color:#777}.resp-sharing-button--email:hover,.resp-sharing-button--email:active{background-color:#5e5e5e;border-color:#5e5e5e}.resp-sharing-button--linkedin{background-color:#0077b5;border-color:#0077b5}.resp-sharing-button--linkedin:hover,.resp-sharing-button--linkedin:active{background-color:#046293;border-color:#046293}.resp-sharing-button--reddit{background-color:#5f99cf;border-color:#5f99cf}.resp-sharing-button--reddit:hover,.resp-sharing-button--reddit:active{background-color:#3a80c1;border-color:#3a80c1}.resp-sharing-button--hackernews{background-color:#f60;border-color:#f60}.resp-sharing-button--hackernews:hover .resp-sharing-button--hackernews:active{background-color:#fb6200;border-color:#fb6200}</style>
<a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fvscode-online-with-aws%2f" target=_blank rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg>
</div>
</div>
</a>
<a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?text=VSCode%20Online%20with%20AWS&url=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fvscode-online-with-aws%2f" target=_blank rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5.0-4.55 2.04-4.55 4.54.0.36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3.0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35.0 12.92-6.92 12.92-12.93.0-.2.0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg>
</div>
</div>
</a>
<a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fvscode-online-with-aws%2f&title=VSCode%20Online%20with%20AWS" target=_blank rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6.0 2.5 1 2.6 2.5.0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg>
</div>
</div>
</a>
<a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fvscode-online-with-aws%2f&resubmit=true&title=VSCode%20Online%20with%20AWS" target=_blank rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 11.5c0-1.65-1.35-3-3-3-.96.0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65.0 3-1.35 3-3s-1.35-3-3-3c-1.38.0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65.0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66.0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64.0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4.0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6.0.23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1.0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1.0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"/></svg>
</div>
</div>
</a>
<a class=resp-sharing-button__link href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fvscode-online-with-aws%2f&t=VSCode%20Online%20with%20AWS" target=_blank rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 140 140"><path fill-rule="evenodd" d="M60.94 82.314 17 0h20.08l25.85 52.093c.397.927.86 1.888 1.39 2.883.53.994.995 2.02 1.393 3.08.265.4.463.764.596 1.095.13.334.262.63.395.898.662 1.325 1.26 2.618 1.79 3.877.53 1.26.993 2.42 1.39 3.48 1.06-2.254 2.22-4.673 3.48-7.258s2.552-5.27 3.877-8.052L103.49.0h18.69L77.84 83.308v53.087h-16.9v-54.08z"/></svg>
</div>
</div>
</a>
<a class=resp-sharing-button__link href="mailto:?subject=VSCode%20Online%20with%20AWS&body=https%3a%2f%2fsuyogs.com%2fp%2fexperiments%2fvscode-online-with-aws%2f" target=_self rel=noopener aria-label>
<div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 4H2C.9 4 0 4.9.0 6v12c0 1.1.9 2 2 2h20c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17.0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1.0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08.0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"/></svg>
</div>
</div>
</a>
</div>
</section>
</aside>
</div>
<script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script>
</body>
</html>